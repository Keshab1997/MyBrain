<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MyBrain Vault - Secure Password Manager</title>
    
    <link rel="icon" href="https://img.icons8.com/fluency/48/brain.png" type="image/png">
    
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/style-vault.css">
    <link rel="stylesheet" href="css/dark-mode.css"> 
</head>
<body>

<nav class="navbar">
<div class="nav-content-wrapper">
    <div class="logo-section" onclick="window.location.href='dashboard.html'" style="cursor:pointer;">
        <span class="logo-icon">ğŸ§ </span>
        <span class="logo-text">MyBrain</span>
    </div>

    <div class="nav-right">
        <div class="nav-links" id="navLinks">
            <a href="dashboard.html" class="nav-item">ğŸ“ Notes</a>
            <a href="vault.html" class="nav-item active">ğŸ” Vault</a>
            <button id="menu-logout-btn" class="btn-logout-nav">ğŸšª Logout</button>
        </div>
        
        <button id="theme-toggle" class="btn-icon">ğŸŒ™</button>

        <div id="nav-mini-profile" class="nav-mini-profile">
            <img id="nav-user-img" src="https://cdn-icons-png.flaticon.com/512/149/149071.png" alt="User" class="nav-avatar">
            <span id="nav-user-name" class="nav-username">User</span>
        </div>

        <button id="mobile-menu-btn" class="hamburger-btn">â˜°</button>
    </div>
</div>
</nav>

<div class="container">
    

    <!-- à§§. à¦¸à¦¿à¦•à¦¿à¦‰à¦° à¦‡à¦¨à¦ªà§à¦Ÿ à¦•à¦¾à¦°à§à¦¡ -->
    <div class="vault-input-card">
        <div class="card-header">
            <h3>ğŸ”’ Add New Secret</h3>
            <p id="vaultStatus" class="status-msg"></p>
        </div>
        <div class="vault-form">
            <div class="input-group">
                <input type="text" id="siteName" placeholder="Website (e.g. Facebook)" class="v-input">
            </div>
            <div class="input-group">
                <input type="text" id="username" placeholder="Username / Email" class="v-input">
            </div>
            <div class="input-group pass-group">
                <input type="password" id="password" placeholder="Password" class="v-input">
                <button id="togglePass" class="eye-btn">ğŸ‘ï¸</button>
            </div>
            <button id="saveSecretBtn" class="btn-encrypt">Encrypt & Save</button>
        </div>
    </div>

    <!-- à§¨. à¦Ÿà§à¦²à¦¬à¦¾à¦° (Search & Actions) -->
    <div class="vault-controls">
        <div class="search-box">
            <input type="text" id="vaultSearchInput" placeholder="ğŸ” Search secrets...">
        </div>
        <div class="action-btns">
            <button id="retryMasterBtn" class="btn-outline" style="color: #e11d48; border-color: #fda4af;">ğŸ”“ Retry Password</button>
            <button onclick="document.getElementById('csvInput').click()" class="btn-outline">ğŸ“¥ Import</button>
            <button id="exportBtn" class="btn-outline">ğŸ“¤ Export</button>
            <button id="deleteAllSecretsBtn" class="btn-outline" style="color: #ef4444; border-color: #fecaca;">ğŸ—‘ï¸ Delete All</button>
            <input type="file" id="csvInput" accept=".csv" style="display: none;">
        </div>
    </div>

    <!-- à§©. à¦ªà¦¾à¦¸à¦“à¦¯à¦¼à¦¾à¦°à§à¦¡ à¦—à§à¦°à¦¿à¦¡ -->
    <div id="vault-grid" class="vault-grid">
        <p style="text-align:center; color:#888; margin-top: 20px;">Loading secrets from secure cloud...</p>
    </div>
</div>

<div id="app-footer"></div>

<!-- Master Password Modal -->
<div id="masterPassModal" class="custom-modal" style="display: none;">
    <div class="modal-content">
        <div style="font-size: 40px; margin-bottom: 15px;">ğŸ”</div>
        <h3>Unlock Your Vault</h3>
        <p style="font-size: 13px; color: #666; margin-bottom: 20px;">Enter your master password to access secrets.</p>
        
        <div style="position: relative; width: 100%; margin: 15px 0;">
            <input type="password" id="masterPassInput" placeholder="Master Password" class="v-input" style="margin-bottom: 0; padding-right: 45px;">
            <button id="toggleMasterVisible" type="button" style="position: absolute; right: 12px; top: 50%; transform: translateY(-50%); background: none; border: none; cursor: pointer; font-size: 20px; color: #64748b; outline: none;">ğŸ‘ï¸</button>
        </div>
        
        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 20px; font-size: 14px;">
            <input type="checkbox" id="rememberMaster">
            <label for="rememberMaster">Remember me on this device</label>
        </div>

        <button id="unlockVaultBtn" class="btn-encrypt" style="width: 100%;">Unlock Vault</button>
        
        <a id="resetVaultLink" href="#" style="display:block; margin-top:15px; font-size:12px; color:#ef4444; text-decoration:none; font-weight:600; text-align:center;">Forgot Password? Reset Vault</a>
        
        <div style="margin-top: 20px; padding: 10px; background: #fef9c3; border-radius: 10px; font-size: 12px; color: #854d0e; text-align: left;">
            <strong>ğŸ’¡ Tips:</strong>
            <ul style="margin: 5px 0; padding-left: 15px;">
                <li>Use a favorite song lyric or a phrase.</li>
                <li>Example: "IloveCoding@2025"</li>
                <li>Never share this password with anyone!</li>
            </ul>
        </div>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>

<script type="module" src="js/vault/vault.js"></script>
<script type="module" src="js/profile-manager.js"></script>
<script type="module" src="js/ui-shared.js"></script>

</body>
</html>
