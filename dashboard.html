<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyBrain Dashboard</title>
    
    <!-- CSS рж▓рж┐ржВржХ (ржЖржкржирж╛рж░ ржЖржЧрзЗрж░ ржЧрзБрж▓рзЛржЗ рж░рж╛ржЦрзБржи) -->
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/style-profile.css">
    <link rel="stylesheet" href="css/style-dash.css">
    <link rel="stylesheet" href="css/footer.css">
    <link rel="stylesheet" href="css/dark-mode.css"> 
    
    <!-- рж▓рж╛ржЗржмрзНрж░рзЗрж░рж┐ (Markdown & Drag-Drop) -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.15.0/Sortable.min.js"></script>
</head>
<body>

<!-- рзз. ржирзНржпрж╛ржнрж┐ржЧрзЗрж╢ржи ржмрж╛рж░ -->
<nav class="navbar">
    <div class="logo-section">
        <span class="logo-icon">ЁЯза</span>
        <span class="logo-text">MyBrain</span>
    </div>
    
    <div class="nav-right">
        <!-- ржбрж╛рж░рзНржХ ржорзЛржб -->
        <button id="theme-toggle" class="btn-icon" title="Toggle Dark Mode">ЁЯМЩ</button>

        <!-- ржорж┐ржирж┐ ржкрзНрж░рзЛржлрж╛ржЗрж▓ -->
        <div id="nav-mini-profile" class="nav-mini-profile" style="display: none;">
            <img id="nav-user-img" src="https://via.placeholder.com/40" alt="Profile" class="nav-avatar">
            <span id="nav-user-name" class="nav-username">User</span>
        </div>

        <!-- рж╣рзНржпрж╛ржоржмрж╛рж░рзНржЧрж╛рж░ ржмрж╛ржЯржи -->
        <button id="mobile-menu-btn" class="hamburger-btn">тШ░</button>

        <!-- ржорзЗржирзБ рж▓рж┐ржВржХрж╕ -->
        <div class="nav-links" id="navLinks">
            <a href="#" class="nav-item active">
                <span class="menu-icon">ЁЯУЭ</span> Notes
            </a>
            <a href="vault.html" class="nav-item">
                <span class="menu-icon">ЁЯФР</span> Vault
            </a>
            <a href="#" id="menu-logout-btn" class="nav-item logout-item">
                <span class="menu-icon">ЁЯЪк</span> Logout
            </a>
        </div>
    </div>
</nav>

<div class="container">
    
    <!-- рзи. рж╕рж╛рж░рзНржЪ ржПржмржВ ржнрж┐ржЙ -->
    <div class="search-and-view">
        <div class="search-wrapper">
            <input type="text" id="searchInput" placeholder="ЁЯФН Search notes, #tags, or links...">
        </div>
        <div class="view-toggles">
            <button id="gridViewBtn" class="view-btn active" title="Grid View">тКЮ</button>
            <button id="listViewBtn" class="view-btn" title="List View">тШ░</button>
        </div>
    </div>

    <!-- рзй. ржлрж┐рж▓рзНржЯрж╛рж░ (ржлрзЛрж▓рзНржбрж╛рж░ рж╕рж┐рж╕рзНржЯрзЗржо) -->
    <div class="filter-wrapper">
        <button class="filter-btn active" data-filter="all">All</button>
        <!-- ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗрж░ ржЯрж╛ржЗржк 'text' рждрж╛ржЗ ржПржЦрж╛ржирзЗ filter='text' рж╣ржмрзЗ -->
        <button class="filter-btn" data-filter="text">ЁЯУЭ Notes</button> 
        <button class="filter-btn" data-filter="image">ЁЯУ╖ Images</button>
        <button class="filter-btn" data-filter="link">ЁЯФЧ Links</button>
        <button class="filter-btn" data-filter="trash" style="color: #e74c3c;">ЁЯЧСя╕П Trash</button> 
    </div>
    <div class="folder-scroll-container">
        <span style="font-size:12px; color:#666; margin-right:5px;">ЁЯУБ Folders:</span>
        <div id="custom-folder-list" class="folder-list">
            <!-- ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯ ржжрж┐рзЯрзЗ ржПржЦрж╛ржирзЗ ржлрзЛрж▓рзНржбрж╛рж░ рж▓рзЛржб рж╣ржмрзЗ -->
        </div>
        <button id="createFolderBtn" class="add-folder-btn" title="Create New Folder">+</button>
    </div>

    <!-- рзк. ржЗржиржкрзБржЯ ржПрж░рж┐рзЯрж╛ -->
    <div class="input-area">
        <textarea id="noteInput" placeholder="Save a note, link or idea... (supports Markdown)"></textarea>
                <!-- ЁЯСЗЁЯСЗ [ржирждрзБржи] рж╕рзЗржн ржХрж░рж╛рж░ рж╕ржорзЯ ржлрзЛрж▓рзНржбрж╛рж░ рж╕рж┐рж▓рзЗржХрзНржЯ ржЕржкрж╢ржи ЁЯСЗЁЯСЗ -->
        <div class="folder-selector-wrapper" style="margin-bottom: 10px;">
            <label style="font-size: 12px; color: #666;">Save to:</label>
            <select id="folderSelect" class="folder-dropdown">
                <option value="General">General</option>
                <!-- JS ржжрж┐рзЯрзЗ ржПржЦрж╛ржирзЗ ржлрзЛрж▓рзНржбрж╛рж░ ржирж╛ржо ржЖрж╕ржмрзЗ -->
            </select>
        </div>
        <!-- ЁЯСЖЁЯСЖ [ржирждрзБржи ржЕржВрж╢ рж╢рзЗрж╖] ЁЯСЖЁЯСЖ -->
        
        <!-- ржХрж╛рж▓рж╛рж░ рж╕рж┐рж▓рзЗржХрж╢ржи ржкрзНржпрж╛рж▓рзЗржЯ -->
        <div class="color-palette-wrapper" style="margin: 10px 0; display: flex; gap: 10px; align-items: center;">
            <span style="font-size: 12px; color: #666;">Color:</span>
            <div class="color-options">
                <input type="radio" name="noteColor" id="c-white" value="#ffffff" checked hidden>
                <label for="c-white" class="color-circle" style="background:#ffffff; border:1px solid #ccc; width:20px; height:20px; border-radius:50%; display:inline-block; cursor:pointer;" title="White"></label>

                <input type="radio" name="noteColor" id="c-red" value="#ffcdd2" hidden>
                <label for="c-red" class="color-circle" style="background:#ffcdd2; width:20px; height:20px; border-radius:50%; display:inline-block; cursor:pointer;" title="Red"></label>

                <input type="radio" name="noteColor" id="c-yellow" value="#fff9c4" hidden>
                <label for="c-yellow" class="color-circle" style="background:#fff9c4; width:20px; height:20px; border-radius:50%; display:inline-block; cursor:pointer;" title="Yellow"></label>

                <input type="radio" name="noteColor" id="c-green" value="#c8e6c9" hidden>
                <label for="c-green" class="color-circle" style="background:#c8e6c9; width:20px; height:20px; border-radius:50%; display:inline-block; cursor:pointer;" title="Green"></label>

                <input type="radio" name="noteColor" id="c-blue" value="#bbdefb" hidden>
                <label for="c-blue" class="color-circle" style="background:#bbdefb; width:20px; height:20px; border-radius:50%; display:inline-block; cursor:pointer;" title="Blue"></label>
            </div>
        </div>

        <div id="image-preview-container" style="display: none; margin: 10px 0; position: relative; width: fit-content;">
            <img id="image-preview" src="" alt="Selected Image" style="max-width: 200px; max-height: 200px; border-radius: 8px; border: 1px solid #ddd;">
            <button id="remove-image-btn" style="position: absolute; top: -5px; right: -5px; background: red; color: white; border: none; border-radius: 50%; width: 20px; height: 20px; cursor: pointer;">├Ч</button>
        </div>

        <div class="input-actions">
            <div class="action-icons">
                <span class="action-icon" id="triggerFile" title="Add Image" style="cursor:pointer; font-size:1.2rem;">ЁЯУ╖</span>
            </div>
            <input type="file" id="fileInput" accept="image/*" hidden>
            <button id="saveBtn" class="btn btn-primary">Save to Brain</button>
        </div>
        <p id="uploadStatus" style="display:none; color: green; font-size: 12px; margin-top:5px;">Uploading...</p>
    </div>

    <!-- рзл. ржХржирзНржЯрзЗржирзНржЯ ржЧрзНрж░рж┐ржб -->
    <div id="pinned-section" class="content-section" style="display:none;">
        <h4 class="section-title">ЁЯУМ Pinned</h4>
        <div id="pinned-grid" class="masonry-grid"></div>
        <hr class="section-divider">
    </div>

    <div id="content-grid" class="masonry-grid">
        <p style="text-align:center; color:#999; width:100%;">Loading your brain...</p>
    </div>

</div>

<div id="app-footer"></div>

<!-- рзм. ржПржбрж┐ржЯ ржорзЛржбрж╛рж▓ -->
<div id="editModal" class="custom-modal" style="display: none;">
    <div class="modal-content">
        <span class="close-modal">&times;</span>
        <h3>Edit Note</h3>
        <textarea id="editNoteInput" rows="5" style="width: 100%; margin: 10px 0; padding: 10px;"></textarea>
        <button id="updateNoteBtn" class="btn btn-primary">Update Note</button>
    </div>
</div>

<!-- рзн. ржХржиржЯрзЗржХрзНрж╕ржЯ ржорзЗржирзБ (рж░рж╛ржЗржЯ ржХрзНрж▓рж┐ржХ) -->
<div id="contextMenu" class="context-menu" style="display: none;">
    <ul>
        <li id="ctx-edit">тЬПя╕П Edit</li>
        <li id="ctx-copy">ЁЯУЛ Copy</li>
        <li id="ctx-pin">ЁЯУМ Pin/Unpin</li>
        <li id="ctx-share">ЁЯУд Share</li>
        <li id="ctx-download">тмЗя╕П Download</li>
        <li id="ctx-trash" style="color:red; border-top:1px solid #eee;">ЁЯЧСя╕П Move to Trash</li>
    </ul>
</div>

<!-- рзо. [ржирждрзБржи] рж╢рзЗрзЯрж╛рж░ ржорзЛржбрж╛рж▓ (ржбрзЗрж╕рзНржХржЯржкрзЗрж░ ржЬржирзНржп) -->
<div id="shareModal" class="custom-modal" style="display: none;">
    <div class="modal-content share-content">
        <span class="close-modal" onclick="document.getElementById('shareModal').style.display='none'">&times;</span>
        <h3 style="margin-bottom:15px;">Share via</h3>
        
        <div class="share-options" style="display: flex; flex-direction: column; gap: 10px;">
            <button id="share-wa" style="padding:10px; border:none; border-radius:5px; background: #25D366; color: white; cursor:pointer;">ЁЯУ▒ WhatsApp</button>
            <button id="share-fb" style="padding:10px; border:none; border-radius:5px; background: #1877F2; color: white; cursor:pointer;">ЁЯУШ Facebook</button>
            <button id="share-tg" style="padding:10px; border:none; border-radius:5px; background: #0088cc; color: white; cursor:pointer;">тЬИя╕П Telegram</button>
            <button id="share-mail" style="padding:10px; border:none; border-radius:5px; background: #ea4335; color: white; cursor:pointer;">тЬЙя╕П Email</button>
            <button id="share-copy" style="padding:10px; border:none; border-radius:5px; background: #555; color: white; cursor:pointer;">ЁЯУЛ Copy Link/Text</button>
        </div>
    </div>
</div>

<!-- рж╕рзНржХрзНрж░рж┐ржкрзНржЯрж╕ -->
<script type="module" src="js/firebase-config.js"></script>
<script type="module" src="js/dashboard.js"></script>

<!-- ржЕрждрж┐рж░рж┐ржХрзНржд рж╕рзНржХрзНрж░рж┐ржкрзНржЯ (ржЖржкржирж╛рж░ ржкрзНрж░рзЛржЬрзЗржХрзНржЯрзЗ ржерж╛ржХрж▓рзЗ ржЖржиржХржорзЗржирзНржЯ ржХрж░рзБржи) -->
<!-- 
<script type="module" src="js/profile-manager.js"></script>
<script src="js/footer.js"></script>
<script src="js/dark-mode.js"></script>
<script src="js/view-manager.js"></script> 
-->

</body>
</html>